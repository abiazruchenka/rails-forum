//js.erb файлы - это плохо. Это нарушает принцип unobtrusive javascript.
//Правилно такие вещи делать AJAX + callback.
$("#new_like_<%=@id%>").hide();
var likes = parseInt($("#message-<%=@id%>").text());
$("#message-<%=@id%>").text(likes + 1);
